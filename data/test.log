/*C25*/SET SCHEMA PUBLIC
drop table if exists Rdv cascade 
drop table if exists User cascade 
drop sequence Rdv_SEQ if exists
drop sequence User_SEQ if exists
create sequence Rdv_SEQ start with 1 increment by 50
create sequence User_SEQ start with 1 increment by 50
create table Rdv (duration bigint, id bigint not null, prof_id bigint, student_id bigint, title varchar(255), primary key (id))
create table User (id bigint not null, DTYPE varchar(31) not null, department varchar(255), name varchar(255), team varchar(255), primary key (id))
alter table Rdv add constraint FKmecg9n26d7s78nl2fforkh3f3 foreign key (prof_id) references User
alter table Rdv add constraint FK6fpluf501od0ldi0y19t2vaq7 foreign key (student_id) references User
/*C26*/SET SCHEMA PUBLIC
INSERT INTO USER VALUES(1,'Student',NULL,'Kate','1')
ALTER SEQUENCE PUBLIC.USER_SEQ RESTART WITH 51
COMMIT
INSERT INTO USER VALUES(2,'Prof','ISTIC','Marc',NULL)
ALTER SEQUENCE PUBLIC.USER_SEQ RESTART WITH 101
COMMIT
INSERT INTO RDV VALUES(10,1,2,1,'new')
ALTER SEQUENCE PUBLIC.RDV_SEQ RESTART WITH 51
COMMIT
/*C25*/INSERT INTO USER VALUES(3,'Student',NULL,'Kate','1')
COMMIT
/*C26*/DISCONNECT
/*C25*/DISCONNECT
/*C27*/SET SCHEMA PUBLIC
drop table if exists Rdv cascade 
drop table if exists User cascade 
drop sequence Rdv_SEQ if exists
drop sequence User_SEQ if exists
create sequence Rdv_SEQ start with 1 increment by 50
create sequence User_SEQ start with 1 increment by 50
create table Rdv (duration bigint, id bigint not null, prof_id bigint, student_id bigint, title varchar(255), primary key (id))
create table User (id bigint not null, DTYPE varchar(31) not null, department varchar(255), name varchar(255), team varchar(255), primary key (id))
alter table Rdv add constraint FKmecg9n26d7s78nl2fforkh3f3 foreign key (prof_id) references User
alter table Rdv add constraint FK6fpluf501od0ldi0y19t2vaq7 foreign key (student_id) references User
INSERT INTO USER VALUES(1,'Student',NULL,'Kate','1')
ALTER SEQUENCE PUBLIC.USER_SEQ RESTART WITH 51
COMMIT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/DISCONNECT
